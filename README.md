# üìñ Sistema de Gest√£o de Doadores de Sangue

---

## ü©∏ Vis√£o Geral

**Sistema de Gest√£o de Doadores de Sangue** √© uma aplica√ß√£o desktop desenvolvida em Java (Swing) e MySQL, cujo objetivo √© facilitar o cadastro de doadores, agendamento de doa√ß√µes, gerenciamento de perfis e acompanhamento de hist√≥rico. üéØ

Este projeto tamb√©m se alinha com os **Objetivos de Desenvolvimento Sustent√°vel (ODS)**, especialmente o **ODS 3: Sa√∫de e Bem-Estar**, j√° que ajuda a organizar o processo de doa√ß√£o de sangue. üåç‚ù§Ô∏è

---

## üì± Funcionalidades Principais

1. **Cadastro de Doador**

   * Criptografia de senha com BCrypt üîí
   * Valida√ß√£o de CPF e for√ßa de senha
   * Armazenamento seguro de dados pessoais

2. **Autentica√ß√£o (Login/Logout)**

   * Tela de login com valida√ß√£o de CPF (11 d√≠gitos) e senha
   * Mensagens de erro claras para usu√°rio (CPF inv√°lido, credenciais incorretas)

3. **Menu Principal**

   * Boas-vindas personalizadas (‚ÄúBem-vindo, {Nome}!‚Äù)
   * Bot√µes de navega√ß√£o:

     * **Agendar Doa√ß√£o**
     * **Meus Agendamentos**
     * **Editar Perfil**
     * **Sair**

4. **Agendamento de Doa√ß√£o** üóìÔ∏è

   * Sele√ß√£o de hemocentro (3 op√ß√µes fict√≠cias em S√£o Paulo)
   * Campo de data (DD/MM/AAAA) e hor√°rio (HH\:mm) com m√°scara de entrada
   * Verifica√ß√£o de disponibilidade (impede duplicidade de hor√°rio no mesmo local)
   * Armazenamento em tabela `doacoes` com status (`agendado`, `realizado`, `cancelado`)

5. **Visualiza√ß√£o e Cancelamento de Agendamentos**

   * Lista todos os agendamentos do doador logado em uma tabela (JTable)
   * Exibe colunas:

     * ID da Doa√ß√£o
     * Nome do Hemocentro
     * Data (DD/MM/AAAA)
     * Hor√°rio (HH\:mm)
     * Status (enum)
   * Bot√£o ‚Äú‚ùå Cancelar Doa√ß√£o‚Äù que altera status para `cancelado` e reflete na tabela

6. **Edi√ß√£o de Perfil**

   * Alterar nome, tipo sangu√≠neo, data de nascimento e, se desejado, senha (m√≠nimo 8 caracteres)
   * CPF permanece imut√°vel
   * Convers√£o autom√°tica de data para o formato do banco (YYYY-MM-DD)

7. **Seguran√ßa e Boas Pr√°ticas**

   * Senhas armazenadas como hash BCrypt (salt + itera√ß√µes)
   * Uso de PreparedStatement para prevenir SQL Injection
   * Try-with-resources para fechamento autom√°tico de conex√µes
   * M√°scara de entrada para data e hor√°rio (JFormattedTextField + MaskFormatter)
   * Opera√ß√µes de banco executadas em threads separadas para n√£o bloquear UI
   * Layout responsivo: janelas centralizadas (`setLocationRelativeTo(null)`)

---

## üîß Tecnologias Utilizadas

| Camada            | Ferramenta / Biblioteca                             |
| ----------------- | --------------------------------------------------- |
| Linguagem         | Java 23                                             |
| Interface Gr√°fica | Java Swing                                          |
| Banco de Dados    | MySQL (Workbench para modelagem)                    |
| Conex√£o JDBC      | MySQL Connector/J (vers√£o 8.0.33)                   |
| Criptografia      | jBCrypt (vers√£o 0.3m)                               |
| Mascara de Data   | `javax.swing.JFormattedTextField` + `MaskFormatter` |
| IDE               | NetBeans IDE                                        |

---

## üóÇÔ∏è Estrutura de Pacotes

```
src/main/java
‚îî‚îÄ‚îÄ com.mycompany.projeto.ods
    ‚îú‚îÄ‚îÄ Main.java                # Classe principal (inicia LoginScreen)
    ‚îú‚îÄ‚îÄ dao
    ‚îÇ   ‚îú‚îÄ‚îÄ DoadorDAO.java       # CRUD para tabela doadores + autentica√ß√£o
    ‚îÇ   ‚îú‚îÄ‚îÄ HemocentroDAO.java   # Consulta hemocentros (listar, buscarPorNome, buscarPorId)
    ‚îÇ   ‚îú‚îÄ‚îÄ DoacaoDAO.java       # CRUD para tabela doacoes + verificarDisponibilidade
    ‚îú‚îÄ‚îÄ model
    ‚îÇ   ‚îú‚îÄ‚îÄ Doador.java          # Entidade Doador (id, nome, cpf, tipoSangu√≠neo, dataNascimento, senha)
    ‚îÇ   ‚îú‚îÄ‚îÄ Hemocentro.java      # Entidade Hemocentro (id, nome, endereco, capacidadeDiaria)
    ‚îÇ   ‚îî‚îÄ‚îÄ Doacao.java          # Entidade Doacao (idDoacao, idDoador, idLocalColeta, data, horario, status)
    ‚îú‚îÄ‚îÄ util
    ‚îÇ   ‚îî‚îÄ‚îÄ ConexaoBD.java       # Singleton para conex√µes JDBC com MySQL
    ‚îî‚îÄ‚îÄ view
        ‚îú‚îÄ‚îÄ LoginScreen.java             # Tela de login
        ‚îú‚îÄ‚îÄ CadastroScreen.java          # Tela de cadastro de doador
        ‚îú‚îÄ‚îÄ MenuPrincipal.java           # Dashboard p√≥s-login
        ‚îú‚îÄ‚îÄ DoacaoScreen.java            # Tela de agendamento
        ‚îú‚îÄ‚îÄ MinhasDoacoesScreen.java     # Tela de listagem/cancelamento de agendamentos
        ‚îî‚îÄ‚îÄ EditarPerfilScreen.java      # Tela de edi√ß√£o de dados do doador
```

---

## üì¶ Instala√ß√£o e Execu√ß√£o

1. **Pr√©-requisitos**

   * Java JDK 23 ou superior
   * Maven 3.8.x
   * MySQL Server (crie o schema `sangue` antes de rodar)

2. **Clonar o reposit√≥rio**

   ```bash
   git clone https://github.com/seu-usuario/sistema-doadores-sangue.git
   cd sistema-doadores-sangue
   ```

3. **Configurar Banco de Dados**

   * Abra o MySQL Workbench e execute o script abaixo para criar as tabelas:

     ```sql
     DROP DATABASE IF EXISTS sangue;
     CREATE DATABASE sangue;
     USE sangue;

     CREATE TABLE doadores (
       id INT AUTO_INCREMENT PRIMARY KEY,
       nome VARCHAR(120) NOT NULL,
       cpf VARCHAR(11) UNIQUE NOT NULL,
       tipo_sanguineo VARCHAR(3) NOT NULL,
       data_nascimento DATE NOT NULL,
       senha VARCHAR(255) NOT NULL
     );

     CREATE TABLE locais_coleta (
       id INT AUTO_INCREMENT PRIMARY KEY,
       nome VARCHAR(200) NOT NULL,
       endereco VARCHAR(250) NOT NULL,
       capacidade_diaria INT NOT NULL
     );

     CREATE TABLE doacoes (
       id_doacao INT AUTO_INCREMENT PRIMARY KEY,
       id_doador INT NOT NULL,
       id_local_coleta INT NOT NULL,
       data DATE NOT NULL,
       horario TIME NOT NULL,
       status ENUM('agendado','realizado','cancelado') DEFAULT 'agendado',
       created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
       FOREIGN KEY (id_doador) REFERENCES doadores(id),
       FOREIGN KEY (id_local_coleta) REFERENCES locais_coleta(id)
     );
     ```

   * **Inserir hemocentros de exemplo**:

     ```sql
     INSERT INTO locais_coleta (nome, endereco, capacidade_diaria) VALUES
       ('Hemocentro Central', 'Rua Marqu√™s de Itu, 579, Vila Buarque, S√£o Paulo ‚Äì SP', 50),
       ('Hemocentro S√£o Lucas', 'Rua Bar√£o de Iguape, 212, Liberdade, S√£o Paulo ‚Äì SP', 40),
       ('Hemocentro UNIFESP', 'Rua Dr. Diogo de Faria, 824, Vila Clementino, S√£o Paulo ‚Äì SP', 30);
     ```

4. **Compilar o projeto com Maven**

   ```bash
   mvn clean install
   ```

5. **Executar a aplica√ß√£o**

   ```bash
   mvn exec:java -Dexec.mainClass="com.mycompany.projeto.ods.Main"
   ```

   > A janela de Login abrir√°, e a partir da√≠ voc√™ poder√° navegar pelas demais telas.

---

## üìñ Estrutura do Banco de Dados

### Tabela: `doadores`

| Coluna            | Tipo         | Descri√ß√£o                                 |
| ----------------- | ------------ | ----------------------------------------- |
| `id`              | INT PK AI    | Identificador √∫nico de cada doador        |
| `nome`            | VARCHAR(120) | Nome completo do doador                   |
| `cpf`             | VARCHAR(11)  | CPF (11 d√≠gitos, sem formata√ß√£o) ‚Äì UNIQUE |
| `tipo_sanguineo`  | VARCHAR(3)   | Ex.: A+, O‚Äì, AB+                          |
| `data_nascimento` | DATE         | Data no formato YYYY-MM-DD                |
| `senha`           | VARCHAR(255) | Hash BCrypt da senha                      |

---

### Tabela: `locais_coleta`

| Coluna              | Tipo         | Descri√ß√£o                            |
| ------------------- | ------------ | ------------------------------------ |
| `id`                | INT PK AI    | Identificador √∫nico do hemocentro    |
| `nome`              | VARCHAR(200) | Nome do hemocentro                   |
| `endereco`          | VARCHAR(250) | Endere√ßo completo                    |
| `capacidade_diaria` | INT          | Quantidade m√°xima de doa√ß√µes por dia |

---

### Tabela: `doacoes`

| Coluna            | Tipo                        | Descri√ß√£o                                                     |
| ----------------- | --------------------------- | ------------------------------------------------------------- |
| `id_doacao`       | INT PK AI                   | Identificador √∫nico do agendamento                            |
| `id_doador`       | INT FK ‚Üí doadores(id)       | Chave estrangeira para o doador                               |
| `id_local_coleta` | INT FK ‚Üí locais\_coleta(id) | Chave estrangeira para o hemocentro                           |
| `data`            | DATE                        | Data da doa√ß√£o (YYYY-MM-DD)                                   |
| `horario`         | TIME                        | Hor√°rio da doa√ß√£o (HH\:mm\:ss)                                |
| `status`          | ENUM                        | ‚Äòagendado‚Äô, ‚Äòrealizado‚Äô, ‚Äòcancelado‚Äô (padr√£o: ‚Äòagendado‚Äô)     |
| `created_at`      | TIMESTAMP                   | Data/Hora de cria√ß√£o do registro (padr√£o: CURRENT\_TIMESTAMP) |

---

## üìê Arquitetura e Padr√µes

1. **MVC (Model-View-Controller)**

   * **Model**: Classes em `com.mycompany.projeto.ods.model` (Doador, Hemocentro, Doacao).
   * **View**: Classes em `com.mycompany.projeto.ods.view` (telas Swing).
   * **Controller/DAO**: Classes em `com.mycompany.projeto.ods.dao` (DoadorDAO, HemocentroDAO, DoacaoDAO).

2. **Seguran√ßa**

   * Senhas criptografadas com BCrypt (`org.mindrot.jbcrypt.BCrypt`) antes de salvar no BD.
   * Uso de `PreparedStatement` para evitar SQL injection.
   * M√°scaras de input em data/hor√°rio para evitar formata√ß√£o inv√°lida.

3. **Threads para opera√ß√µes de BD**

   * No login, a autentica√ß√£o ocorre dentro de `new Thread(...)` para n√£o travar a UI.
   * Boa pr√°tica mantida: UI responsiva, sem congelamento durante consultas.

4. **Boas Pr√°ticas de UI**

   * Todas as janelas usam `setLocationRelativeTo(null)` para **centralizar** na tela do usu√°rio.
   * Uso de `JFormattedTextField` + `MaskFormatter` para garantir somente n√∫meros em data/hor√°rio.
   * Bot√µes estilizados com cores (`setBackground`, `setForeground`, `setFont`, `setOpaque(true)`).

---

## üë• Time e Contribuidores

* **Colaboradores**:
  * Nome: *Pedro Vieira*
  * E-mail: *[pedro.vieira02006@gmail.com](mailto:pedro.vieira02006@gmail.com)*

  * Nome: *Nicholas Saraiva*
  * E-mail: *[nicholas.saraivam@gmail.com](mailto:nicholas.saraivam@gmail.com)*

  * Nome: *Augusto Souza*
  * E-mail: *[augustorock2003@gmail.com](mailto:augustorock2003@gmail.com)*

  * Nome: *Miguel Carvalho*
  * E-mail: *[miguelcarvalhodossantos17@gmail.com](mailto:miguelcarvalhodossantos17@gmail.com)*

  * Nome: *Gabriel Afonso*
  * E-mail: *[afonsogabriel546@gmail.com](mailto:afonsogabriel546@gmail.com)*

  * Nome: *Raul Lopes*
  * E-mail: *[lopesnunesdasilvar@gmail.com](mailto:lopesnunesdasilvar@gmail.com)*

**Como contribuir**

1. Fa√ßa um fork deste reposit√≥rio.
2. Crie sua branch para a feature ou corre√ß√£o (`git checkout -b feature/nome-da-feature`).
3. Fa√ßa commit das altera√ß√µes (`git commit -m "Descri√ß√£o da mudan√ßa"`).
4. Envie para o branch original (`git push origin feature/nome-da-feature`).
5. Abra um Pull Request.

---

## üìú Licen√ßa

Este projeto est√° licenciado sob a **MIT License**.
Veja o arquivo [LICENSE](LICENSE) para mais detalhes.

---

## ü§ù Sobre a Liga√ß√£o com os ODS

üåü Este sistema contribui diretamente para o **ODS 3 ‚Äì Sa√∫de e Bem-Estar**, pois:

* **Aumenta a efici√™ncia** no gerenciamento de doadores de sangue, facilitando o agendamento de doa√ß√µes e reduzindo a falta de hemoderivados nos hospitais.
* **Promove a seguran√ßa** ao validar dados do doador (CPF, data de nascimento) e ao armazenar senhas criptografadas.
* **Facilita o acesso** de volunt√°rios (doadores) a informa√ß√µes sobre hemocentros, datas dispon√≠veis e hist√≥rico de doa√ß√µes, incentivando a participa√ß√£o na cadeia de doa√ß√£o.
* **Impacto social**: ao centralizar doa√ß√µes, ajuda a salvar vidas e diminuir as barreiras para acesso ao sangue, alinhando-se com metas de reduzir surtos, doen√ßas e melhorar a sa√∫de comunit√°ria.

---

## üéâ Agradecimentos

* Agradecemos √†s equipes que desenvolvem bibliotecas essenciais como **jBCrypt**, **MySQL Connector/J** e **Swing**.
* Obrigado ao time de desenvolvedores, testadores e √† comunidade que apoia iniciativas de software livre e solu√ß√µes para sa√∫de p√∫blica.

---

> ‚ÄúDoe sangue, doe vida!‚Äù ü©∏‚ù§Ô∏è